/* ===== 1. ä¸»é¢˜å˜é‡ ===== */
:root {
  /* è¾¹æ¡† */
  --border-light: rgba(0, 0, 0, 0.15);
  --border-dark:  rgba(255,255,255,0.1);
  /* ä¸»è‰² */
  --primary-light: #1e90ff;
  --primary-dark:  #3b82f6;
  --primary-light-rgb: 30,144,255;
  --primary-dark-rgb:  59,130,246;
  /* èƒŒæ™¯ & æ–‡å­— */
  --bg-light: #ffffff;
  --bg-dark:  #0f1115;
  --sidebar-light: #f5f6f8;
  --sidebar-dark:  #14171d;
  --text-light: #1f1f1f;
  --text-dark:  #e2e8f0;
  /* å…¶å®ƒ */
  --ui-scale: 1;
}
body.light-theme {
  --border-color: var(--border-light);
  --primary: var(--primary-light);
  --primary-rgb: var(--primary-light-rgb);
  --bg-color: var(--bg-light);
  --sidebar-bg: var(--sidebar-light);
  --text-color: var(--text-light);
}
body.dark-theme {
  --border-color: var(--border-dark);
  --primary: var(--primary-dark);
  --primary-rgb: var(--primary-dark-rgb);
  --bg-color: var(--bg-dark);
  --sidebar-bg: var(--sidebar-dark);
  --text-color: var(--text-dark);
}

/* ===== 2. Reset ===== */
*,*::before,*::after{box-sizing:border-box;}
html,body{margin:0;padding:0;height:100%;overflow:hidden;font-family:'Roboto',sans-serif;background:var(--bg-color);color:var(--text-color);zoom:var(--ui-scale);-webkit-tap-highlight-color:transparent;}
a{color:inherit;text-decoration:none;}
button{font-family:inherit;cursor:pointer;}

/* ===== 3. å¸ƒå±€å®¹å™¨ ===== */
.container{display:flex;height:100%;width:100%;}

/* ===== 4. ä¾§è¾¹æ  ===== */
.sidebar{
  width:240px;
  background:var(--sidebar-bg);
  border-right:1px solid var(--border-color);
  display:flex;flex-direction:column;
}
.logo{font-size:1.4rem;padding:20px;text-align:center;}
.new-btn{
  margin:0 16px 12px;
  padding:10px 0;
  width:auto;
  background:var(--primary);
  color:#fff;
  border:none;border-radius:6px;
  font-size:0.95rem;
}
.new-btn:hover{background:rgba(var(--primary-rgb),0.9);}

.conv-nav{flex:1;overflow-y:auto;margin:0;padding:0;list-style:none;}
.conv-nav li{
  padding:12px 18px;
  border-radius:8px;
  white-space:nowrap;
  text-overflow:ellipsis;
  overflow:hidden;
  position:relative;
  transition:background 0.15s ease;
  margin: 0 16px;
  
}
.conv-nav li:hover{background:rgba(var(--primary-rgb),0.12);}


.sidebar-footer .settings-btn {
  font-size: 1rem;          /* å­—ä½“ç¨å¤§ */
  padding: 0.75em 1em;      /* å†…è¾¹è·åŠ å¤§ */
  min-width: 100px;         /* æœ€å°å®½åº¦ä¿è¯æ˜“ç‚¹ */
  justify-content: center;  /* å¦‚æœæ˜¯ flex å¸ƒå±€ï¼Œæ–‡å­—å±…ä¸­ */
}
.settings-area {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 16px;
}
.setting-item {
  display: flex;
  align-items: center;
  flex-wrap: nowrap;
}
.setting-item label {
  margin-right: auto;   /* å·¦ä¾§è‡ªé€‚åº”æ‰©å±• */
}
.setting-item input,
.setting-item select,
.setting-item button {
  margin-left: 8px;     /* å„æ§ä»¶é—´ç•™ç™½ */
  flex-shrink: 0;
}


/* ===== 5. ä¸»åŒº ===== */
.main-area{flex:1;display:flex;flex-direction:column;position:relative;min-width:0;}

/* 5-1 å¤´éƒ¨ */
.chat-header{
  display:flex;align-items:center;gap:12px;
  padding:12px 16px;
  border-bottom:1px solid var(--border-color);
  background:var(--bg-color);
  min-height:48px;
  flex-shrink:0; /* ç¡®ä¿å¤´éƒ¨é«˜åº¦å›ºå®š */
}
.chat-header h1{margin:0;font-size:1.1rem;font-weight:500;}

/* 5-2 èŠå¤©å†…å®¹ - ä¿®æ”¹ */
.chat-area{
  flex:1;
  display:flex;
  flex-direction:column;
  overflow:hidden; /* ç¡®ä¿ .chat-area æœ¬èº«ä¸å‡ºç°æ»šåŠ¨æ¡ï¼Œè€Œæ˜¯è®© .messages æ»šåŠ¨ */
  min-height:0;   /* å…è®¸å†…éƒ¨çš„ .messages æ­£ç¡®æ»šåŠ¨ */
}


/* â€”â€” æ–°å¢ï¼šå½’æ¡£æŒ‰é’®æ ·å¼ â€”â€” */
#archive-current-btn {
  position: absolute !important;
  top: 8px !important;
  /* è®©å®ƒç´§æŒ¨åˆ é™¤æŒ‰é’®å·¦ä¾§ â€” åˆ é™¤æ˜¯ right:12pxï¼Œè¿™é‡Œè®¾ç½®ä¸€ä¸ªåˆé€‚çš„åç§» */
  right: 80px !important;        /* ä½ å¯ä»¥æ ¹æ®æŒ‰é’®å®½åº¦å¾®è°ƒè¿™ä¸ªå€¼ */
  padding: 6px 12px !important;
  min-width: 55px; /* æ–°å¢ï¼šè®¾ç½®ä¸€ä¸ªæœ€å°å®½åº¦ï¼Œä¾‹å¦‚ 60pxï¼Œæ ¹æ®å®é™…æ•ˆæœè°ƒæ•´ */
  text-align: center; /* æ–°å¢ï¼šç¡®ä¿æ–‡å­—åœ¨æŒ‰é’®å†…å±…ä¸­ */
  background: #fff !important;
  color: #000 !important;
  border: 1px solid #ccc !important;
  border-radius: 4px !important;
  font-size: 0.9rem !important;
  cursor: pointer !important;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1) !important;
  transition: background 0.2s ease, border-color 0.2s ease !important;
}
#archive-current-btn:hover {
  background: #f7f7f7 !important;
  border-color: #bbb !important;
}

/* ===== èŠå¤©æ¶ˆæ¯ç›¸å…³ CSS - ä¿®æ”¹å¼€å§‹ ===== */

/* ===== èŠå¤©æ¶ˆæ¯ç›¸å…³ CSS - ç»Ÿä¸€çš„ messages å®šä¹‰ ===== */

.messages {
  flex: 1;                     /* å æ®çˆ¶å®¹å™¨ .chat-area ä¸­é™¤å» .input-area çš„å‰©ä½™ç©ºé—´ */
  overflow-y: auto;            /* å½“å†…å®¹è¶…å‡ºé«˜åº¦æ—¶æ˜¾ç¤ºå‚ç›´æ»šåŠ¨æ¡ */
  /* padding: 24px 24px 75px; */ /* æ—§çš„ paddingï¼Œåº•éƒ¨ç©ºé—´è¿‡å¤§ */
  padding: 24px;               /* å››å‘¨ç»Ÿä¸€å†…è¾¹è·ï¼Œåº•éƒ¨ä¸å†éœ€è¦ä¸ºç»å¯¹å®šä½çš„è¾“å…¥æ¡†ç•™ç™½ */
  display: flex;
  flex-direction: column;
  gap: 14px;                   /* .message-wrapper ä¹‹é—´çš„é—´è· */
  width: 100%;
}

.message {
  max-width: 100%; 
  margin: 0; /* ç¡®ä¿æ²¡æœ‰é¢å¤–çš„å¤–è¾¹è· */
  padding: 8px 12px;
  border-radius: 16px;
  line-height: 1.5;
  font-size: 0.95rem;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  word-break: break-word;
}

/* å•æ¡æ¶ˆæ¯çš„åŒ…è£¹å±‚ */
.message-wrapper {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  width: fit-content;
  max-width: 85%; /* æˆ–è€…ä½ ä¹‹å‰è®¾ç½®çš„ï¼Œæ¯”å¦‚ 80% æˆ– 75% */
}

/* ç”¨æˆ·æ¶ˆæ¯çš„åŒ…è£¹å±‚ï¼šæ•´ä½“é å³ */
.user-message-wrapper {
  align-self: flex-end;
}

/* åŠ©æ‰‹æ¶ˆæ¯çš„åŒ…è£¹å±‚ï¼šæ•´ä½“é å·¦ */
.assistant-message-wrapper {
  align-self: flex-start;
}

/* æ¶ˆæ¯æ°”æ³¡ (.message) çš„æ ·å¼ */
.message {
  max-width: 100%; 
  margin: 0; 
  padding: 8px 12px;
  border-radius: 16px;
  line-height: 1.5;
  font-size: 0.95rem;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  word-break: break-word; /* å°† word-break ç§»åˆ°è¿™é‡Œ */
}

/* ... ä½ å…¶ä»–çš„ .message.user, .message.assistant, .delete-message-btn ç­‰æ ·å¼ ... */

/* ç”¨æˆ·æ°”æ³¡é¢œè‰² */
.message.user {
  background-color: var(--primary); /* åœ¨æ–°ç‰ˆ CSS ä¸­åº”ä¸º var(--primary-color) */
  color: white;
  text-align: left; 
}

/* åŠ©æ‰‹æ°”æ³¡é¢œè‰² */
.message.assistant {
  /* background-color: var(--bg-secondary); /* å‡è®¾ä½ å®šä¹‰äº†è¿™ä¸ªå˜é‡ */
  /* color: var(--text-color); */
  /* ä»¥ä¸‹æ˜¯ä½ åŸæœ‰çš„æ·±è‰²ä¸»é¢˜ä¸‹çš„åŠ©æ‰‹æ°”æ³¡æ ·å¼ï¼Œæµ…è‰²ä¸»é¢˜ä¼šè¦†ç›– */
  background-color: rgba(255,255,255,0.06);
  color: var(--text-color);
  text-align: left;
}
body.light-theme .message.assistant{
  background:#f0f2f5;
  color:var(--text-color);
  border:1px solid rgba(0,0,0,0.06);
}
/* ... (å…¶ä»– message æ ·å¼å¦‚ pre, code, text p ç­‰ä¿æŒ) ... */


/* --- åˆ é™¤å•æ¡æ¶ˆæ¯æŒ‰é’®çš„æ ·å¼ (ä¿®æ”¹å) --- */
.delete-message-btn {
  background: transparent;
  border: none;
  color: #888; 
  cursor: pointer;
  font-size: 1.2em; 
  padding: 0;    
  line-height: 1;
  
  /* --- é»˜è®¤éšè— --- */
  opacity: 0;
  visibility: hidden;
  /* --- ç»“æŸé»˜è®¤éšè— --- */
  
  transition: opacity 0.2s ease, visibility 0s linear 0.2s, color 0.2s ease; 
  /* è§£é‡Š:
     - opacity è¿‡æ¸¡ 0.2s
     - visibility ä¸ç«‹å³è¿‡æ¸¡ (0s)ï¼Œä½†åœ¨ opacity è¿‡æ¸¡å®Œæˆå (linear 0.2s) æ”¹å˜ï¼Œ
       è¿™æ ·å¯ä»¥é¿å…åœ¨å…ƒç´ é€æ˜ä½†ä»å¯è§æ—¶å‘ç”Ÿæ„å¤–äº¤äº’ã€‚
       æˆ–è€…æ›´ç®€å•åœ°ï¼Œåªè¿‡æ¸¡ opacityï¼Œç„¶åç”¨ display: none/blockï¼Œä½† display ä¸æ”¯æŒ transitionã€‚
       å¯¹äºç®€å•çš„æ˜¾éšï¼Œåªæ§åˆ¶ opacity é…åˆ visibility æ•ˆæœé€šå¸¸ä¸é”™ã€‚
  */
  
  width: 20px;   
  height: 20px;  
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px; 
  margin-top: 4px; 
}

/* å½“é¼ æ ‡æ‚¬åœåœ¨æ•´ä¸ªæ¶ˆæ¯åŒ…è£¹å±‚ä¸Šæ—¶ï¼Œæ˜¾ç¤ºåˆ é™¤æŒ‰é’® */
.message-wrapper:hover .delete-message-btn {
  opacity: 0.7; /* æˆ–è€… 1ï¼Œå¦‚æœä½ å¸Œæœ›å®Œå…¨ä¸é€æ˜ */
  visibility: visible;
  transition-delay: 0s; /* ç¡®ä¿æ‚¬åœæ—¶ visibility ç«‹å³ç”Ÿæ•ˆ */
}

/* å½“é¼ æ ‡ç›´æ¥æ‚¬åœåœ¨åˆ é™¤æŒ‰é’®ä¸Šæ—¶ (å¯é€‰ï¼Œå¯ä»¥è¿›ä¸€æ­¥å¢å¼ºåé¦ˆ) */
.delete-message-btn:hover {
  color: #ff4d4d; 
  opacity: 1; /* ç¡®ä¿åœ¨ç›´æ¥æ‚¬åœæ—¶å®Œå…¨ä¸é€æ˜ */
}

/* ===== èŠå¤©æ¶ˆæ¯ç›¸å…³ CSS - ä¿®æ”¹ç»“æŸ ===== */

.message pre,.message code{font-family:monospace;}
.message pre{background:rgba(0,0,0,0.15);padding:8px;border-radius:6px;overflow-x:auto;}

/* style.css */

/* --- è¾“å…¥åŒºåŸŸ .input-area çš„æ ·å¼ä¼˜åŒ– --- */
.input-area {
  flex-shrink: 0; 
  padding: 10px 15px; 
  background: var(--bg-color);
  border-top: 1px solid var(--border-color);
  display: flex;
  flex-direction: row; 
  align-items: center; 
  gap: 10px; 
}

/* æ¨¡å‹é€‰æ‹©ä¸‹æ‹‰æ¡†çš„æ ·å¼ */
.input-area select#model {
  /* appearance, padding, border, background-image ç­‰ä¿æŒä½ ä¹‹å‰çš„è®¾ç½® */
  /* (ä½ éœ€è¦ç¡®ä¿ä½ ç”¨äºç¾åŒ–åŸç”Ÿselectçš„ appearance: none; å’Œ background-image è§„åˆ™ä»ç„¶å­˜åœ¨äºä½ çš„CSSæ–‡ä»¶ä¸­å…¶ä»–åœ°æ–¹ï¼Œæˆ–è€…ä¹Ÿåˆå¹¶åˆ°è¿™é‡Œ) */
  appearance: none; /* å‡è®¾ä½ éœ€è¦è¿™ä¸ªæ¥ç§»é™¤åŸç”Ÿæ ·å¼ */
  -webkit-appearance: none; /* é’ˆå¯¹ Webkit æµè§ˆå™¨ */
  cursor: pointer; /* ç¡®ä¿æœ‰æŒ‡é’ˆæ‰‹åŠ¿ */
  font-family: inherit; /* ç»§æ‰¿å­—ä½“ */
  font-size: 0.90rem;       /* ç•¥å¾®å‡å°å­—ä½“ï¼Œä¾‹å¦‚ä» 0.9rem æ”¹ä¸º 0.85rem */
  padding-top: 0;         /* å‡å°ä¸Šä¸‹å†…è¾¹è· */
  padding-bottom: 0;      /* å‡å°ä¸Šä¸‹å†…è¾¹è· */
  padding-left: 10px;     /* ä¿æŒæˆ–è°ƒæ•´å·¦å†…è¾¹è· */
  padding-right: 30px;    /* ä¿æŒæˆ–è°ƒæ•´å³å†…è¾¹è·ï¼ˆä¸ºç®­å¤´å›¾æ ‡ç•™ç©ºé—´ï¼‰ */
  height: auto; 
  padding-top: 8px; 
  padding-bottom: 8px; 
  /* --- ç»“æŸä¿®æ”¹ --- */

  border-radius: 4px; /* å¯ä»¥å°è¯•æ¯”å…¶ä»–æ§ä»¶ç•¥å°çš„åœ†è§’ï¼Œæ˜¾å¾—æ›´ç²¾è‡´ */
  border: 1px solid var(--border-color);
  background-color: var(--bg-color);
  color: var(--text-color);
  flex-shrink: 0; 
  align-self: flex-start; 
  margin-top: 0; 
   /* ç¡®ä¿ç®­å¤´å›¾æ ‡çš„æ ·å¼ä¹Ÿåœ¨è¿™é‡Œï¼Œæˆ–è€…åœ¨å¦ä¸€ä¸ªé’ˆå¯¹ select#model çš„è§„åˆ™ä¸­ */
  background-repeat: no-repeat;
  background-position: right 8px center; /* æ ¹æ® padding-right è°ƒæ•´ç®­å¤´ä½ç½® */
  background-image: url("data:image/svg+xml;charset=UTF-8,<svg width='10' height='6' viewBox='0 0 10 6' xmlns='http://www.w3.org/2000/svg'><path d='M0 0l5 6 5-6z' fill='%23999'/></svg>");
  background-size: 10px 6px; /* è°ƒæ•´ç®­å¤´å›¾æ ‡å¤§å° */
  transition: border-color .2s, box-shadow .2s; /* ä¿ç•™è¿‡æ¸¡æ•ˆæœ */
}

/* ç¡®ä¿ä½ çš„ä¸»é¢˜ç‰¹å®šç®­å¤´é¢œè‰²ä»ç„¶ç”Ÿæ•ˆ */
body.dark-theme .input-area select#model {
  background-image: url("data:image/svg+xml;charset=UTF-8,<svg width='10' height='6' viewBox='0 0 10 6' xmlns='http://www.w3.org/2000/svg'><path d='M0 0l5 6 5-6z' fill='rgba(255,255,255,0.5)'/></svg>"); /* æ·±è‰²ä¸»é¢˜ç®­å¤´ */
  /* ... å…¶ä»–æ·±è‰²ä¸»é¢˜ select æ ·å¼ ... */
}


/* style.css */

.input-area textarea {
  flex-grow: 1; 
  padding: 8px 10px;
  font-size: 0.95rem;
  border: 1px solid var(--border-color);
  border-radius: 6px;
  background: var(--bg-color);
  color: var(--text-color);
  resize: none; /* ç¦æ­¢ç”¨æˆ·æ‰‹åŠ¨æ‹–æ‹½è°ƒæ•´å¤§å°ï¼Œå› ä¸ºæˆ‘ä»¬å°†ç”¨JSæ§åˆ¶ */
  width: 100%; 
  box-sizing: border-box; 
  max-height: 200px; /* æœ€å¤§é«˜åº¦é™åˆ¶ */
  min-height: 60px;
  line-height: 1.6;
  overflow-y: hidden; /* é»˜è®¤éšè—æ»šåŠ¨æ¡ï¼Œå½“å†…å®¹è¶…å‡ºmax-heightæ—¶ï¼ŒJSä¼šæ”¹ä¸ºauto */
                      /* æˆ–è€…ç›´æ¥è®¾ä¸º autoï¼Œä½†é…åˆJSåŠ¨æ€è°ƒæ•´å¯èƒ½hiddenæ›´å¥½åˆå§‹çŠ¶æ€ */
  
  height: auto; /* è®© JS å¯ä»¥å…ˆé‡ç½®å®ƒ */
}

.input-area textarea:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 2px rgba(var(--primary-rgb), 0.2);
}


/* å‘é€æŒ‰é’®çš„æ ·å¼ */
.input-area button#send-btn {
  padding: 0 20px; /* å·¦å³å†…è¾¹è· */
  height: 42px;    /* å›ºå®šé«˜åº¦ */
  background:var(--primary);
  color:#fff;
  border:none;
  border-radius:6px;
  font-size:0.95rem;
  flex-shrink: 0; /* é˜²æ­¢æŒ‰é’®è¢«çˆ¶çº§ flex å®¹å™¨å‹ç¼© */
  
  /* --- æ–°å¢/ç¡®ä¿ä»¥ä¸‹å±æ€§ --- */
  white-space: nowrap; /* å¼ºåˆ¶æ–‡æœ¬ä¸æ¢è¡Œ */
  display: inline-flex; /* æˆ–è€… flex, è®©å†…éƒ¨æ–‡æœ¬èƒ½æ›´å¥½åœ°å¯¹é½ */
  align-items: center;  /* å‚ç›´å±…ä¸­æ–‡æœ¬ */
  justify-content: center; /* æ°´å¹³å±…ä¸­æ–‡æœ¬ (å¦‚æœæŒ‰é’®æ¯”æ–‡æœ¬å®½) */
  min-width: fit-content; /* è®©æŒ‰é’®çš„æœ€å°å®½åº¦è‡³å°‘æ˜¯å…¶å†…å®¹çš„å®½åº¦ */
                          /* æˆ–è€…è®¾ç½®ä¸€ä¸ªå…·ä½“çš„ min-widthï¼Œä¾‹å¦‚ï¼šmin-width: 70px; */
}

.input-area button#send-btn:hover { 
  background:rgba(var(--primary-rgb),0.9);
}

/* æ¨¡å‹åˆ‡æ¢ä¸‹æ‹‰é å·¦ï¼Œä¿æŒå±‚çº§ */
.model-select select{z-index:1000;background:var(--bg-color);color:var(--text-color);border:1px solid var(--border-color);border-radius:6px;padding:6px;}

/* ===== 7. å±é™©æŒ‰é’® ===== */
button.danger,#delete-current-btn{background:#e53e3e!important;color:#fff!important;}
button.danger:hover,#delete-current-btn:hover{background:#c53030!important;}

/* ===== 8. æ»šåŠ¨æ¡ç¾åŒ– ===== */
.messages::-webkit-scrollbar{width:8px;}
.messages::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.25);border-radius:4px;}
.sidebar::-webkit-scrollbar{width:6px;}
.sidebar::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.2);border-radius:4px;}

/* ===== 9. å“åº”å¼ ===== */
@media(max-width:768px){
  .sidebar{display:none;}
  .container{flex-direction:column;}
  .chat-header{padding:10px;}
  .new-btn{margin:12px;}
}

/* ===== 10. Helper ç±» ===== */
.hide{display:none!important;}
.full-width{width:100%!important;}
.text-center{text-align:center!important;}

/* â€”â€” è¡¥ä¸å¼€å§‹ â€”â€” */

/* 1. ç¾åŒ–ä¾§æ â€œè®¾ç½®â€âš™ æŒ‰é’® */
.settings-btn {
  display: block;                       /* ä» inline-flex æ”¹ä¸ºå—çº§ */
  margin: 0 20px 15px;                  /* åŒä¾§è¾¹æ æŒ‰é’®å·¦å³é—´è· */
  width: calc(100% - 40px);             /* æ‰£é™¤å·¦å³å„ 20px å¤–è¾¹è·åæ’‘æ»¡å®½åº¦ */
  height: 48px;                         /* å›ºå®šé«˜åº¦ï¼Œå¯æŒ‰éœ€è°ƒæ•´ */
  padding: 0 16px;                      /* å·¦å³ padding ä¿è¯æ–‡å­—æœ‰å‘¼å¸æ„Ÿ */
  background: #10a37f;
  color: #fff;
  font-weight: 500;
  border: none;
  border-radius: 6px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  text-align: center;                   /* æ–‡å­—æ°´å¹³å±…ä¸­ */
  line-height: center;                    /* æ–‡å­—å‚ç›´å±…ä¸­ */
}
.settings-btn:hover {
  filter: brightness(0.9);
}

.settings-btn:hover {
  filter: brightness(0.9);
}

/* 2. ä¾§æ é€‰ä¸­é¡¹å’ŒæŒ‰é’®åŒå®½ï¼ˆä¿®æ­£ç‰ˆï¼‰ */
.new-btn {
  margin: 0 20px 15px;      /* ä¸åˆ—è¡¨é¡¹å·¦å³ä¸€è‡´ */
}

/* å…ˆæ¸…é™¤æ‰€æœ‰é»˜è®¤åˆ—è¡¨ç¼©è¿› */
.conv-nav ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

/* åˆ—è¡¨é¡¹ç»Ÿä¸€ */
.conv-nav li {
  display: block;
  margin: 0 20px 5px;
  padding: 10px 16px;
  border-radius: 8px;
  cursor: pointer;
}

/* hover é«˜äº® */
.conv-nav li:hover {
  background: rgba(var(--primary-rgb), 0.12);
}




/* ç®­å¤´å›¾æ ‡ï¼ˆData URI SVGï¼‰*/
.input-area select#model {
  background-image: url("data:image/svg+xml;charset=UTF-8,<svg width='10' height='6' viewBox='0 0 10 6' xmlns='http://www.w3.org/2000/svg'><path d='M0 0l5 6 5-6z' fill='%23999'/></svg>");
}

/* â€”â€” æµ…è‰²ä¸»é¢˜ â€”â€” */
body.light-theme .input-area select#model {
  background-color: #fff;
  color: #333;
  border: 1px solid #ccc;
}
body.light-theme .input-area select#model:focus {
  outline: none;
  border-color: #40a9ff;
  box-shadow: 0 0 0 2px rgba(24,144,255,0.2);
}
body.light-theme .input-area select#model option {
  background: #fff;
  color: #333;
}
body.light-theme .input-area select#model option:hover {
  background-color: #f5f5f5;
}

/* â€”â€” æ·±è‰²ä¸»é¢˜ â€”â€” */
body.dark-theme .input-area select#model {
  background-color: #2e2f3a;
  color: #ececf1;
  border: 1px solid #555;
}
body.dark-theme .input-area select#model:focus {
  outline: none;
  border-color: #409cff;
  box-shadow: 0 0 0 2px rgba(64,156,255,0.2);
}
body.dark-theme .input-area select#model option {
  background: #2e2f3a;
  color: #ececf1;
}
body.dark-theme .input-area select#model option:hover {
  background-color: #3a3b45;
}


/* 3. ä¼˜åŒ–æ¨¡å‹é€‰æ‹©ä¸‹æ‹‰æ ·å¼ */
.input-area select#model {
  /* ...å‰é¢é‚£äº› appearanceã€padding ç­‰ä¸å˜... */

  /* æŠŠç®­å¤´å›¾æ ‡æ”¾åˆ°æ­£ç¡®çš„ selector é‡Œ */
  background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdo dD0iOCIgdmlld0JveD0iMCAwIDEyIDgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAw L3N2ZyI+PHBvbHlnb24gcG9pbnRzPSIwIDAgNiA4IDEyIDAgMCAwIiBmaWxsPSIjY2NjIi8+ PC9zdmc+");
  background-repeat: no-repeat;
  background-position: right 8px center;
  background-size: 12px 8px;
}


/* 4. è®¾ç½®ç•Œé¢æ’ç‰ˆè°ƒæ•´ */
.settings-area {
  padding: 24px 32px;
  display: flex;
  flex-direction: column;
  gap: 24px;
}
.settings-area h2 {
  font-size: 1.6rem;
  margin-bottom: 16px;
  font-weight: 600;
}
.setting-item {
  display: flex;
  align-items: center;
  gap: 16px;
  flex-wrap: wrap;
}
.setting-item label {
  flex: 0 0 200px;             /* å›ºå®šæ ‡ç­¾å®½åº¦ */
  font-weight: 500;
}
.setting-item input[type="password"],
.setting-item select {
  flex: 1;
  min-width: 200px;
}
.setting-item button {
  flex: 0 0 auto;
  padding: 8px 20px;
  font-size: 0.95rem;
  border-radius: 6px;
}

/* 5. ç²¾ç®€è¾“å…¥åŒºæŒ‰é’®å’Œä¸‹æ‹‰æ•´ä½“å¯¹é½ */
.input-area {
  padding: 8px 20px;           /* å‡å°‘ä¸Šä¸‹å†…è¾¹è· */
}


/* â€”â€” è¡¥ä¸ç»“æŸ â€”â€” */

/* ===== è¦†ç›–ï¼šåˆ é™¤æŒ‰é’®æ ·å¼ ===== */
#delete-current-btn {
  position: absolute !important;
  top: 8px !important;
  right: 12px !important;
  padding: 6px 12px !important;
  min-width: 55px; /* æ–°å¢ï¼šè®¾ç½®ä¸å½’æ¡£æŒ‰é’®ç›¸åŒçš„æœ€å°å®½åº¦ */
  text-align: center; /* æ–°å¢ï¼šç¡®ä¿æ–‡å­—åœ¨æŒ‰é’®å†…å±…ä¸­ */
  background: #e53e3e !important;
  color: #fff !important;
  border: 1px solid transparent !important;
  border-radius: 4px !important;
  font-size: 0.9rem !important;
  cursor: pointer !important;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2) !important;
  transition: background 0.2s ease !important;
}
#delete-current-btn:hover {
  background: #c53030 !important;
}

/* æ¸…é™¤åŠ©æ‰‹æœºæ³¡å†… <p> çš„é»˜è®¤ margin */
.message .text p {
  margin: 0;
}
/* éšè—æ‰€æœ‰ç©ºçš„ <p> */
.message .text p:empty {
  display: none !important;
}

body.light-theme ::-webkit-scrollbar {
  width: 8px;
}
body.light-theme ::-webkit-scrollbar-track {
  background: #f0f0f0;
  border-radius: 4px;
}
body.light-theme ::-webkit-scrollbar-thumb {
  background-color: #c0c0c0;
  border-radius: 4px;
  border: 2px solid #f0f0f0;
}
body.light-theme ::-webkit-scrollbar-thumb:hover {
  background-color: #999;
}
body.light-theme {
  scrollbar-color: #bbb #f0f0f0;
  scrollbar-width: thin;
}

body.dark-theme ::-webkit-scrollbar {
  width: 8px;
}
body.dark-theme ::-webkit-scrollbar-track {
  background: #1f1f1f;
  border-radius: 4px;
}
body.dark-theme ::-webkit-scrollbar-thumb {
  background-color: #444;
  border-radius: 4px;
  border: 2px solid #1f1f1f;
}
body.dark-theme ::-webkit-scrollbar-thumb:hover {
  background-color: #666;
}
body.dark-theme {
  scrollbar-color: #444 #1f1f1f;
  scrollbar-width: thin;
}

/* ç”¨æˆ·æ°”æ³¡ä¿ç•™æ¢è¡Œ */
.message.user .text {
  white-space: pre-wrap !important;
}
/* loading å ä½æ ·å¼ */
.message.assistant.loading {
  opacity: 0.6;
  font-style: italic;
  display: inline-block; /* è®©å…¶è¡¨ç°ä¸ºè¡Œå†…å—ï¼Œå®½åº¦ç”±å†…å®¹å†³å®š */
  width: auto;           /* æ˜ç¡®å®½åº¦è‡ªé€‚åº” */
  max-width: fit-content;/* æœ€å¤§å®½åº¦ä¹Ÿç”±å†…å®¹å†³å®šï¼Œæˆ–è€…è®¾ç½®ä¸€ä¸ªè¾ƒå°çš„å€¼ï¼Œå¦‚ 200px */
  align-self: flex-start;/* ç¡®ä¿å®ƒåœ¨ .messages å®¹å™¨ä¸­æ˜¯å·¦å¯¹é½çš„ */
}

/* æ¸…é™¤åŠ©æ‰‹æœºæ³¡å†… <p> çš„é»˜è®¤ margin */
.message .text p {
  margin: 0;
}
/* éšè—æ‰€æœ‰çœŸæ­£ç©ºçš„ pï¼ˆä»¥é˜²ä¸‡ä¸€ï¼‰ */
.message .text p:empty {
  display: none !important;
}

/* èŠå¤©æ¡†ä¸­æ‰€æœ‰é“¾æ¥æ˜¾ç¤ºä¸ºè“è‰²ï¼Œå¹¶åŠ ä¸‹åˆ’çº¿ */
.message .text a {
  color: #0066cc !important;
  text-decoration: underline !important;
}

/* é¼ æ ‡ç§»ä¸Šå»æ—¶åŠ æ·±ä¸€ä¸‹è‰² */
.message .text a:hover {
  color: #004999 !important;
}

/* èŠå¤©æ¶ˆæ¯ä¸­çš„å›¾ç‰‡è‡ªé€‚åº”å®½åº¦ã€ä¿æŒçºµæ¨ªæ¯” */
.message .text img {
  display: block;             /* å•ç‹¬ä¸€è¡Œï¼Œè‡ªåŠ¨æ’‘å¼€å®¹å™¨ */
  max-width: 100% !important; /* æœ€å®½ä¸è¶…è¿‡æ°”æ³¡å®½åº¦ */
  height: auto !important;    /* é«˜åº¦æŒ‰æ¯”ä¾‹è‡ªé€‚åº” */
  margin: 8px 0;              /* ä¸Šä¸‹åŠ ç‚¹é—´è· */
  border-radius: 4px;         /* åœ†æ¶¦ç‚¹å„¿ï¼Œå¯é€‰ */
}

#edit-title-btn {
  font-size: 0.9em;
  vertical-align: middle;
}
#edit-title-btn:hover {
  opacity: 0.7;
}

/* â€”â€” ç¾åŒ–å¯¹è¯æ ‡é¢˜ç¼–è¾‘æ¡† â€”â€” */
#chat-title-input {
  background-color: rgba(255,255,255,0.05); /* è½»å¾®é€æ˜é»‘ */
  border: 1px solid #555;                  /* ä¸­ç°è¾¹æ¡† */
  border-radius: 4px;                      /* åœ†è§’ */
  padding: 4px 8px;                        /* å†…è¾¹è· */
  color: #fff;                             /* ç™½è‰²å­—ä½“ */
  font-weight: 500;                        /* ç¨ç²— */
  font-family: inherit;                    /* ç»§æ‰¿èŠ‚å¥ */
  outline: none;                           /* å»æ‰é»˜è®¤ outline */
  min-width: 120px;                        /* æœ€å°å®½åº¦ */
  font-size: 1.00rem; /* ä¾‹å¦‚ï¼Œè®¾ç½®ä¸º 1.1remï¼Œæ¯”èŠå¤©å¤´éƒ¨çš„ h1 (1.1rem) ç•¥å¤§æˆ–ä¸€è‡´ */
}

/* ç„¦ç‚¹æ—¶é«˜äº®è¾¹æ¡† */
#chat-title-input:focus {
  border-color: #3399ff;
  box-shadow: 0 0 4px rgba(51,153,255,0.6);
}
/* é’ˆå¯¹ä¸¤ç§ä¸»é¢˜åˆ†åˆ«ä¼˜åŒ–ç¼–è¾‘æ¡†å¯è§æ€§ */
body.light-theme #chat-title-input {
  /* æµ…è‰²ä¸»é¢˜ä¸‹ç”¨æ·±è‰²åŠé€æ˜åº•ã€æ·±ç°è¾¹æ¡† */
  background-color: rgba(0, 0, 0, 0.05);
  border: 1px solid rgba(0, 0, 0, 0.2);
  color: var(--text-light);
}

body.dark-theme #chat-title-input {
  /* æ·±è‰²ä¸»é¢˜ä¸‹ç”¨äº®è‰²åŠé€æ˜åº•ã€ä¸­ç°è¾¹æ¡† */
  background-color: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: var(--text-dark);
}

/* å®¹å™¨ä¿æŒ inline-flexï¼Œè®©æŒ‰é’®é å³æ˜¾ç¤º */
.scale-frame {
  display: inline-flex;
  margin-left: 8px;
}

/* æŒ‰é’®ç»„ */
.scale-frame .scale-options {
  display: flex;
}

/* å„æŒ‰é’®ï¼šå›ºå®šå®½åº¦ã€é«˜åº¦ï¼Œå•è¡Œæ–‡å­— */
.scale-frame .scale-options button {
  flex: none;               /* ä¸ç­‰åˆ†ï¼Œä½¿ç”¨å›ºå®šå®½åº¦ */
  width: 50px;              /* æ ¹æ®æ–‡å­—é•¿åº¦è°ƒæ•´ */
  padding: 6px 0;           /* å‚ç›´å†…è¾¹è·ï¼Œæ°´å¹³ç”± width å†³å®š */
  margin: 0 2px;            /* æ¯ä¸ªæŒ‰é’®å·¦å³ç•™ä¸€ç‚¹é—´è· */
  border: 1px solid var(--border-color);
  background: var(--bg-secondary);
  color: var(--text-primary);
  text-align: center;
  font-size: 0.9em;
  line-height: 1;           /* è®©æ–‡å­—å‚ç›´å±…ä¸­ */
  cursor: pointer;
  border-radius: 4px;       /* å…¨ä½“ä¸€è‡´åœ†è§’ */
}

/* é€‰ä¸­æ€ä»…æ”¹å˜è¾¹æ¡†é¢œè‰²ï¼Œä¸è¦èƒŒæ™¯é«˜äº® */
.scale-frame .scale-options button.active {
  border-color: var(--primary-color);
  color: var(--primary-color);
}

/* å»æ‰ä¹‹å‰çš„ hover èƒŒæ™¯é«˜äº®ï¼Œä»…åŠ ä¸ªè¾¹æ¡†åé¦ˆ */
.scale-frame .scale-options button:hover {
  border-color: var(--primary-color);
}

/* æŠŠ ghost éšæ‰ï¼Œç›´æ¥ç§»åŠ¨åŸå§‹ li */
.sortable-ghost {
  opacity: 0 !important;
}

/* è¢«æ‹–ä½çš„ li åŠ ä¸ªæ ·å¼æç¤ºä¸€ä¸‹ */
.sortable-chosen {
  background: rgba(var(--primary-rgb), 0.2) !important;
  border: 1px dashed rgba(var(--primary-rgb), 0.5) !important;
}


/* è®©æ‰€æœ‰åˆ—è¡¨é¡¹ç›¸å¯¹å®šä½ï¼Œä¾¿äº ::before ç»å¯¹å®šä½ç”»çº¿ */
#conversation-list li {
  position: relative;        /* æ–°å¢ï¼šå»ºç«‹å®šä½ä¸Šä¸‹æ–‡ */
  display: block;
  margin: 0 20px 5px;
  padding: 10px 16px;
  border-radius: 8px;
  cursor: pointer;
}

#conversation-list li:hover {
  background: rgba(var(--primary-rgb), 0.12);  /* è‡ªè¡Œè°ƒæ•´ alpha å€¼ï¼Œçœ‹ç€èˆ’æœå°±å¥½ */
  color: inherit;                             /* ä¿æŒæ–‡å­—åŸè‰² */
}

/* æ‹–æ‹½æ—¶åœ¨ç©ºä½å¤„çš„å…ƒç´ ä¸Šç”»ä¸€æ¡è“è‰²åˆ†éš”çº¿ */
#conversation-list li.sortable-ghost::before {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  top: 0;           /* å¦‚æœæƒ³åœ¨ä¸Šæ–¹ç”»çº¿ï¼Œå°± top:0 */
  height: 2px;      /* çº¿çš„ç²—ç»† */
  background: var(--primary-color);
}

.setting-item button {
  min-width: 80px;
}

/* åˆ†éš”çº¿ */
.archive-divider {
  text-align: center;
  color: var(--text-secondary);
  font-size: 0.8em;
  margin: 8px 0;
}

/* å·²å½’æ¡£é¡¹æ ·å¼ */
.conversation-item.archived .title {
  opacity: 0.6;
}


/* 1. å…ˆæŠŠæ—§ç‰ˆ btn-delete / btn-archiveï¼ˆå¦‚æœæ®‹ç•™ï¼‰å½»åº•éšè— */
#conversation-list li .btn-delete,
#conversation-list li .btn-archive {
  display: none !important;
}

/* 2. é’ˆå¯¹æˆ‘ä»¬è‡ªå·±æ’å…¥çš„ .del æŒ‰é’®ï¼šé»˜è®¤ä¸æ˜¾ç¤º */
#conversation-list li .del {
  position: absolute;        /* æ–°å¢ï¼šè„±ç¦»æ–‡æ¡£æµ */
  right: 16px;               /* è·ç¦»å³ä¾§ 16px */
  top: 50%;                  /* å‚ç›´ä¸­å¿ƒçº¿ */
  transform: translateY(-50%);/* å‚ç›´å±…ä¸­ */
  
  display: none;             /* é»˜è®¤ä¸æ˜¾ç¤º */
  opacity: 0;
  visibility: hidden;
  
  background: transparent !important;
  border: none !important;
  color: red !important;
  font-size: 0.9rem !important;
  cursor: pointer !important;
}

#conversation-list li:hover .del {
  display: inline-block !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* äºŒçº§èœå•é»˜è®¤æ”¶èµ· */
.archived-list {
  display: none;
  margin-left: 16px;
  padding-left: 0;
  list-style: none;
}

/* ç‚¹å‡»â€œå·²å½’æ¡£â€æ—¶å±•å¼€ */
.archive-toggle.expanded + .archived-list {
  display: block;
}

/* æ ·å¼ç¾åŒ– */
.archive-toggle {
  cursor: pointer;
  font-weight: bold;
  padding: 8px 16px;
  user-select: none;
}
.archive-toggle::before {
  content: 'â–¶';
  display: inline-block;
  margin-right: 6px;
  transform: rotate(0deg);
  transition: transform 0.2s;
}
.archive-toggle.expanded::before {
  transform: rotate(90deg);
}

/* â€”â€” æ´»åŠ¨é¡¹é«˜äº® â€”â€” */
#conversation-list li.active {
  background: var(--primary) !important;
  color: #fff !important;
}

/* ğŸ§  æ€è€ƒè¿‡ç¨‹å—æ•´ä½“å®¹å™¨ */
.reasoning-block {
  margin-bottom: 1em;
}

/* æ ‡ç­¾ï¼šæ€è€ƒè¿‡ç¨‹ */
.reasoning-label {
  font-weight: bold;
  margin-bottom: 0.5em;
}

/* å†…å®¹åŒºåŸŸï¼šè®¾ä¸ºç°è‰²å­—ä½“ */
.reasoning-content {
  color: #aaa;
  white-space: pre-wrap;
  font-size: 0.95em;
  line-height: 1.6;
}

/* åˆ†éš”çº¿ */
.reasoning-sep {
  margin-top: 1em;
  margin-bottom: 1em;
  border: none;
  border-top: 1px solid #555;
}
.model-note {
  margin-top: 0.5em;
  font-size: 0.85em;
  color: #888;
  text-align: left;
  font-style: italic;
}


/* ä»£ç å—å¤åˆ¶æŒ‰é’® */
.text pre {
  position: relative; /* å»ºç«‹å®šä½ä¸Šä¸‹æ–‡ */
}

.text pre .copy-btn {
  position: absolute;
  top: 4px;
  right: 8px;
  display: none;
  background: rgba(0, 0, 0, 0.5);
  color: #fff;
  border: none;
  border-radius: 3px;
  padding: 2px 6px;
  font-size: 0.75rem;
  cursor: pointer;
  transition: background 0.2s;
}

.text pre .copy-btn:hover {
  background: rgba(0,0,0,0.7);
}

/* æ‚¬æµ®æ—¶æ˜¾ç¤º */
.text pre:hover .copy-btn {
  display: block;
}

/* æµ…è‰²æ¨¡å¼ä¸‹çš„ copy æŒ‰é’® */
body.light-theme .text pre .copy-btn {
  background: rgba(255,255,255,0.7) !important;
  color: #333 !important;
}
body.light-theme .text pre .copy-btn:hover {
  background: rgba(255,255,255,0.9) !important;
}

body.light-theme .reasoning-content {
  color: #777; /* å…·ä½“å¯ä»¥æ ¹æ®éœ€è¦å¾®è°ƒ */
}

/* â€”â€” API Key ç»„ â€”â€” */
.settings-area .api-key-group {
  display: flex;
  align-items: center;
  margin-bottom: 0.75em;
}
.settings-area .api-key-group label {
  width: 140px;
  flex-shrink: 0;
  font-size: 0.95rem;
  color: var(--text-color);
}
.settings-area .api-key-group select,
.settings-area .api-key-group input {
  flex: 1;
  padding: 6px 10px;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  background: var(--bg-color);
  color: var(--text-color);
  font-size: 0.95rem;
}
.settings-area .api-key-group select:focus,
.settings-area .api-key-group input:focus {
  outline: none;
  border-color: var(--primary);
}


/* â€”â€” â€œä¿å­˜å½“å‰ API Keyâ€ è“è‰²æŒ‰é’® â€”â€” */
#save-api-btn {
  display: inline-block;               /* å’Œå…¶ä»–æŒ‰é’®ä¿æŒä¸€è‡´ */
  margin: 0 20px 15px;                 /* å·¦å³é—´è·ä¸å…¶ä»–æŒ‰é’®ç›¸åŒ */
  padding: 10px 22px;                  /* å†…è¾¹è·ä¸€è‡´ */
  background: var(--primary) !important;
  color: #fff !important;
  border: none !important;
  border-radius: 6px;
  font-size: 0.95rem;
  cursor: pointer;
  transition: background 0.2s ease;
  text-align: center;
}
#save-api-btn:hover {
  background: rgba(var(--primary-rgb), 0.9) !important;
}

/* â€”â€”â€”â€”â€” ä»£ç å—å¤åˆ¶æŒ‰é’® â€”â€”â€”â€”â€” */
.text pre {
  position: relative;
}
.text pre .copy-btn {
  position: absolute;
  top: 4px;
  right: 8px;
  display: none;
  background: rgba(0,0,0,0.5);
  color: #fff;
  border: none;
  border-radius: 3px;
  padding: 2px 6px;
  font-size: 0.75rem;
  cursor: pointer;
  transition: background .2s;
}
.text pre:hover .copy-btn {
  display: block;
}
/* æµ…è‰²ä¸»é¢˜ä¸‹æŒ‰é’®é…è‰² */
body.light-theme .text pre .copy-btn {
  background: rgba(255,255,255,0.7);
  color: #333;
}
body.light-theme .text pre .copy-btn:hover {
  background: rgba(255,255,255,0.9);
}

/* ===== æ€è€ƒè¿‡ç¨‹å—çš„æ ·å¼ (å·²è°ƒæ•´ä¸ºæ€è€ƒè¿‡ç¨‹åœ¨å›å¤ä¸Šæ–¹) ===== */

.reasoning-block {
  /* margin-bottom: 12px; */ /* è¿™ä¸ªæ˜¯ä¹‹å‰æ€è€ƒè¿‡ç¨‹åœ¨ä¸‹é¢æ—¶çš„é—´è·ï¼Œç°åœ¨å®ƒåœ¨ä¸Šé¢ */
  margin-top: 0;          /* å¦‚æœæ˜¯æ°”æ³¡å†…ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œé€šå¸¸ä¸éœ€è¦ä¸Šè¾¹è· */
  margin-bottom: 10px;    /* ä¸ä¸‹æ–¹çš„æ­£å¼å›å¤å†…å®¹ä¹‹é—´çš„é—´è· */

  /* padding-top: 10px; */  /* å¦‚æœæ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¯èƒ½ä¸éœ€è¦é¡¶éƒ¨å†…è¾¹è·ï¼Œæˆ–è€…ç”±æ°”æ³¡æ•´ä½“paddingæ§åˆ¶ */
  padding-top: 0;         /* é€šå¸¸è®¾ä¸º0ï¼Œè®©æ ‡ç­¾å’Œå†…å®¹è‡ªç„¶æ’åˆ— */
  padding-bottom: 10px;   /* æ€è€ƒè¿‡ç¨‹å†…å®¹ä¸ä¸‹æ–¹åˆ†éš”çº¿/ä¸»è¦å›å¤çš„é—´è· */

  /* åˆ†éš”çº¿åº”è¯¥åœ¨æ€è€ƒè¿‡ç¨‹çš„åº•éƒ¨ï¼Œä¸ä¸»è¦å›å¤å†…å®¹åˆ†éš” */
  border-top: none;       /* ç§»é™¤å¯èƒ½å­˜åœ¨çš„ä¸Šè¾¹æ¡† */
  border-bottom: 1px dashed rgba(128, 128, 128, 0.3); /* åˆ†éš”çº¿åœ¨åº•éƒ¨ */

  font-size: 0.9em;
  line-height: 1.5;
}

/* å¦‚æœ reasoning-block æ˜¯æ¶ˆæ¯æ°”æ³¡å†…çš„ç¬¬ä¸€ä¸ªå¯è§å­å…ƒç´ ï¼Œ
   å¹¶ä¸”æ¶ˆæ¯æ°”æ³¡æœ¬èº«æœ‰ padding-topï¼Œé‚£ä¹ˆ reasoning-block å¯èƒ½ä¸éœ€è¦é¢å¤–çš„ margin-topã€‚
   è¿™ä¸ª :first-child é€‰æ‹©å™¨ç¡®ä¿å¦‚æœå®ƒæ˜¯ç¬¬ä¸€ä¸ªï¼Œå…¶é¡¶éƒ¨æ²¡æœ‰å¤šä½™çš„è¾¹è·ã€‚
*/
.message > .reasoning-block:first-child {
  margin-top: 0;
}
/* (æˆ–è€…ï¼Œå¦‚æœä½ ä¸å¸Œæœ›å®ƒæœ‰ä»»ä½•ä¸Šè¾¹è·ï¼Œæ— è®ºæ˜¯å¦ç¬¬ä¸€ä¸ªï¼Œéƒ½å¯ä»¥åœ¨ .reasoning-block ä¸­ç›´æ¥è®¾ç½® margin-top: 0;) */


.reasoning-label {
  font-weight: bold;
  margin-bottom: 6px;
  /* é¢œè‰²å°†ç”±ä¸»é¢˜ç‰¹å®šæ ·å¼è¦†ç›– */
}

.reasoning-content { /* è¿™æ˜¯ <pre> æ ‡ç­¾ */
  white-space: pre-wrap;
  word-break: break-all; /* å¯¹äºéå¸¸é•¿çš„æ— ç©ºæ ¼å­—ç¬¦ä¸²ï¼Œå¯ä»¥è€ƒè™‘ break-word å¯èƒ½æ›´æŸ”å’Œ */
  overflow-wrap: break-word;
  padding: 8px 10px; /* è°ƒæ•´å†…è¾¹è·ï¼Œä½¿å…¶çœ‹èµ·æ¥æ›´ç´§å‡‘ */
  border-radius: 4px;    /* ç»™ pre æ ‡ç­¾ä¹ŸåŠ ä¸ªåœ†è§’ */
  max-height: 200px;     /* è°ƒæ•´æœ€å¤§é«˜åº¦ */
  overflow-y: auto;
  /* èƒŒæ™¯å’Œæ–‡å­—é¢œè‰²å°†ç”±ä¸»é¢˜ç‰¹å®šæ ·å¼è¦†ç›– */
  font-size: 0.95em; /* è®© pre å†…çš„æ–‡å­—å¤§å°ä¸ reasoning-block çš„ font-size ç›¸å¯¹ç‹¬ç«‹æˆ–ä¸€è‡´ */
}

/* --- æµ…è‰²ä¸»é¢˜ä¸‹çš„æ€è€ƒè¿‡ç¨‹æ ·å¼ --- */
body.light-theme .reasoning-block {
  /* border-top-color: rgba(0, 0, 0, 0.15); /* æ”¹ä¸º border-bottom-color */
  border-bottom-color: rgba(0, 0, 0, 0.1); /* æµ…è‰²ä¸»é¢˜ä¸‹çš„åº•éƒ¨çº¿æ¡é¢œè‰² */
}
body.light-theme .reasoning-label {
  color: #444; /* æ ‡ç­¾é¢œè‰²åŠ æ·±ä¸€ç‚¹ */
}
body.light-theme .reasoning-content {
  background-color: #f8f9fa; /* éå¸¸æµ…çš„ç°è‰² */
  color: #333;
  border: 1px solid #e9ecef;
}
/* æµ…è‰²ä¸»é¢˜ä¸‹æ€è€ƒè¿‡ç¨‹æ»šåŠ¨æ¡ */
body.light-theme .reasoning-content::-webkit-scrollbar { width: 6px; }
body.light-theme .reasoning-content::-webkit-scrollbar-thumb { background-color: #ced4da; border-radius: 3px; }
body.light-theme .reasoning-content { scrollbar-color: #ced4da #f8f9fa; scrollbar-width: thin; }


/* --- æ·±è‰²ä¸»é¢˜ä¸‹çš„æ€è€ƒè¿‡ç¨‹æ ·å¼ --- */
body.dark-theme .reasoning-block {
  /* border-top-color: rgba(255, 255, 255, 0.15); /* æ”¹ä¸º border-bottom-color */
  border-bottom-color: rgba(255, 255, 255, 0.2); /* æ·±è‰²ä¸»é¢˜ä¸‹çš„åº•éƒ¨çº¿æ¡é¢œè‰² */
}
body.dark-theme .reasoning-label {
  color: #ccc;
}
body.dark-theme .reasoning-content {
  background-color: rgba(255, 255, 255, 0.05); /* æ·±è‰²èƒŒæ™¯ */
  color: #ddd;
  border: 1px solid rgba(255, 255, 255, 0.15);
}
/* æ·±è‰²ä¸»é¢˜ä¸‹æ€è€ƒè¿‡ç¨‹æ»šåŠ¨æ¡ */
body.dark-theme .reasoning-content::-webkit-scrollbar { width: 6px; }
body.dark-theme .reasoning-content::-webkit-scrollbar-thumb { background-color: #444; border-radius: 3px; }
body.dark-theme .reasoning-content { scrollbar-color: #444 rgba(255, 255, 255, 0.05); scrollbar-width: thin; }


/*
   ä¸å†éœ€è¦è¿™ä¸¤ä¸ªé€‰æ‹©å™¨äº†ï¼Œå› ä¸ºæˆ‘ä»¬ç›´æ¥åœ¨ .reasoning-block è®¾ç½®äº† margin-bottom
   æ¥æ§åˆ¶ä¸ä¸‹æ–¹ .text çš„é—´è·ã€‚
   è€Œä¸” .text ç›¸å¯¹äºæ°”æ³¡é¡¶éƒ¨çš„é—´è·ï¼Œå¦‚æœä¸Šé¢æ²¡æœ‰ reasoning-blockï¼Œ
   åˆ™ç”±æ°”æ³¡çš„ padding-top æ§åˆ¶ï¼›å¦‚æœä¸Šé¢æœ‰ reasoning-blockï¼Œ
   åˆ™ç”± reasoning-block çš„ margin-bottom å’Œè‡ªèº«çš„ margin-top (å¦‚æœæœ‰çš„è¯) æ§åˆ¶ã€‚
*/
/*
.message .reasoning-block:first-child {
    margin-top: 0;
}

.message .reasoning-block + .text {
    margin-top: 10px;
}
*/

/* å¦‚æœéœ€è¦ï¼Œå¯ä»¥ç»™ .text (ä¸»è¦å›å¤å†…å®¹) ä¸€ä¸ªé»˜è®¤çš„ margin-topï¼Œ
   æˆ–è€…å½“å®ƒå‰é¢æ˜¯ .reasoning-block æ—¶æ‰ç»™å®ƒ margin-topã€‚
   ä½†é€šå¸¸ .reasoning-block çš„ margin-bottom å·²ç»å¤„ç†äº†é—´è·ã€‚
   å¦‚æœ .reasoning-block ä¸å­˜åœ¨ï¼Œ.text åº”è¯¥æ˜¯æ°”æ³¡å†…çš„ç¬¬ä¸€ä¸ªä¸»è¦å†…å®¹å…ƒç´ ã€‚
*/
.message > .text:first-child { /* å¦‚æœ .text æ˜¯æ°”æ³¡å†…ç¬¬ä¸€ä¸ªå­å…ƒç´  (å³æ²¡æœ‰æ€è€ƒè¿‡ç¨‹) */
  margin-top: 0; /* é€šå¸¸ä¸éœ€è¦ä¸Šè¾¹è·ï¼Œç”±æ°”æ³¡çš„ padding æ§åˆ¶ */
}
.message > .reasoning-block + .text { /* å¦‚æœ .text å‰é¢æ˜¯ .reasoning-block */
  margin-top: 10px; /* ç¡®ä¿ä¸»è¦å›å¤å’Œä¸Šé¢çš„æ€è€ƒè¿‡ç¨‹ä¹‹é—´æœ‰æ˜ç¡®çš„é—´è· */
}


/* ===== ç»“æŸ æ€è€ƒè¿‡ç¨‹å—çš„æ ·å¼ ===== */

/* style.css */

/* ... å…¶ä»–æ ·å¼ ... */

.settings-area {
  /* display: flex; (è¿™ä¸ªç”± JS æ§åˆ¶ï¼Œå½“æ˜¾ç¤ºæ—¶ä¼šè®¾ä¸º flex) */
  flex-direction: column; /* ä¿æŒå†…å®¹å‚ç›´æ’åˆ— */
  gap: 20px;             /* è®¾ç½®é¡¹ä¹‹é—´çš„é—´è·ï¼Œæ ¹æ®ä½ çš„å–œå¥½è°ƒæ•´ */
  padding: 24px 32px;    /* å†…è¾¹è· */

  /* --- æ ¸å¿ƒä¿®æ”¹ï¼Œç¡®ä¿æ»šåŠ¨ --- */
  flex: 1;                /* è®© .settings-area å æ® .main-area ä¸­çš„å‰©ä½™å‚ç›´ç©ºé—´ */
  overflow-y: auto;       /* å½“å†…å®¹é«˜åº¦è¶…è¿‡ .settings-area é«˜åº¦æ—¶ï¼Œæ˜¾ç¤ºå‚ç›´æ»šåŠ¨æ¡ */
  min-height: 0;          /* åœ¨ flex å¸ƒå±€ä¸­ï¼Œè¿™æœ‰åŠ©äºç¡®ä¿ overflow ç”Ÿæ•ˆ */
  /* --- ç»“æŸæ ¸å¿ƒä¿®æ”¹ --- */
}

/* ä½ å¯ä»¥ä¿ç•™æˆ–è°ƒæ•´ settings-area h2 å’Œ setting-item çš„æ ·å¼ */
.settings-area h2 {
  font-size: 1.6rem;
  margin-top: 0; /* é€šå¸¸æ ‡é¢˜é¡¶éƒ¨ä¸éœ€è¦é¢å¤–marginï¼Œç”±paddingæ§åˆ¶ */
  margin-bottom: 16px;
  font-weight: 600;
}
.setting-item {
  display: flex;
  align-items: center;
  gap: 16px;
  flex-wrap: wrap; /* å¦‚æœä¸€è¡Œæ”¾ä¸ä¸‹ï¼Œå…è®¸æ¢è¡Œ */
}
.setting-item label {
  flex: 0 0 200px; 
  font-weight: 500;
}
.setting-item input[type="password"],
.setting-item select,
.setting-item input[type="text"] /* å¦‚æœæœ‰å…¶ä»–ç±»å‹è¾“å…¥æ¡† */ {
  flex: 1;
  min-width: 200px;
}
.setting-item button {
  flex-shrink: 0; /* é˜²æ­¢æŒ‰é’®è¢«å‹ç¼© */
  /* padding: 8px 20px; (è¿™äº›é€šå¸¸ç”±é€šç”¨æŒ‰é’®æ ·å¼æˆ–ç‰¹å®šæŒ‰é’®ID/ç±»æ§åˆ¶) */
  /* font-size: 0.95rem; */
  /* border-radius: 6px; */
}

#back-to-chat-btn {
  background: none;
  border: none;
  padding: 8px 12px;
  color: var(--primary); /* ä½¿ç”¨ä¸»é¢˜è‰²ä½œä¸ºæ–‡å­—/å›¾æ ‡é¢œè‰² */
  font-size: 1rem;     /* æˆ–è€…æ ¹æ®ä½ çš„å›¾æ ‡å¤§å°è°ƒæ•´ */
  font-weight: 500;
  cursor: pointer;
  display: inline-flex; /* ä½¿å›¾æ ‡å’Œæ–‡å­—èƒ½è‰¯å¥½å¯¹é½ */
  align-items: center;
  gap: 6px; /* å›¾æ ‡å’Œæ–‡å­—ä¹‹é—´çš„é—´è· */
  border-radius: 4px;
  transition: background-color 0.2s ease, color 0.2s ease;
}

#back-to-chat-btn:hover {
  background-color: rgba(var(--primary-rgb), 0.1); /* æ‚¬åœæ—¶è½»å¾®èƒŒæ™¯é«˜äº® */
  color: var(--primary-dark); /* å¦‚æœæœ‰å®šä¹‰æ·±ä¸€ç‚¹çš„ä¸»é¢˜è‰² */
}

/* å‡è®¾ä½ ç”¨ä¸€ä¸ªä¼ªå…ƒç´ æ¥åšç®­å¤´å›¾æ ‡ */
#back-to-chat-btn::before {
  content: 'â†'; /* æˆ–è€…ä½¿ç”¨ SVG å›¾æ ‡ä½œä¸º background-image */
  font-weight: bold;
  margin-right: 4px; /* å¦‚æœæ–‡å­—åœ¨å³è¾¹ */
}

.setting-item input[type="range"] {
  flex-grow: 1; /* è®©æ»‘å—å æ®æ›´å¤šå¯ç”¨ç©ºé—´ */
  margin-left: 10px;
  /* ä½ å¯èƒ½éœ€è¦ä¸€äº›ç‰¹å®šäºæµè§ˆå™¨çš„å‰ç¼€æ¥ç¾åŒ–æ»‘å—è½¨é“å’Œæ»‘å—æœ¬èº« */
}

/* style.css */

/* --- Temperature æ»‘å—ç¾åŒ– --- */
.setting-item input[type="range"]#temperature-slider {
  /* 1. é‡ç½®å¤–è§‚ï¼Œç§»é™¤å¤§éƒ¨åˆ†åŸç”Ÿæ ·å¼ */
  -webkit-appearance: none; /* Safari an Chrome */
  -moz-appearance: none;    /* Firefox */
  appearance: none;         /* æ ‡å‡†å±æ€§ */
  
  width: 100%; /* è®©æ»‘å—è½¨é“å°½å¯èƒ½å®½ */
  height: 20px; /* æ•´ä¸ªæ§ä»¶çš„é«˜åº¦ï¼Œä¸»è¦æ˜¯ä¸ºäº†ç»™æ‰‹æŸ„ç•™å‡ºå‚ç›´ç©ºé—´ */
  background: transparent; /* ç§»é™¤ input å…ƒç´ æœ¬èº«çš„èƒŒæ™¯ */
  cursor: pointer;
  outline: none; /* ç§»é™¤ç„¦ç‚¹æ—¶çš„é»˜è®¤è½®å»“ */
  margin-left: 10px; /* ä¸æ ‡ç­¾çš„é—´è· */
}

/* --- WebKit/Blink æµè§ˆå™¨ (Chrome, Edge, Safari, Opera) --- */
.setting-item input[type="range"]#temperature-slider::-webkit-slider-runnable-track {
  width: 100%;
  height: 6px; /* è½¨é“çš„é«˜åº¦ */
  cursor: pointer;
  background: #555; /* è½¨é“èƒŒæ™¯è‰² (æ·±ç°è‰²) */
  border-radius: 3px; /* è½¨é“åœ†è§’ */
  /* border: 1px solid #333; /* å¯é€‰ï¼šè½¨é“è¾¹æ¡† */
}

.setting-item input[type="range"]#temperature-slider::-webkit-slider-thumb {
  -webkit-appearance: none; /* å¿…é¡»ï¼Œç§»é™¤åŸç”Ÿæ‰‹æŸ„æ ·å¼ */
  appearance: none;
  
  border: 2px solid var(--primary-dark); /* æ‰‹æŸ„è¾¹æ¡†é¢œè‰² (ä½ çš„ä¸»é¢˜è“è‰²) */
  height: 16px;       /* æ‰‹æŸ„é«˜åº¦ */
  width: 16px;        /* æ‰‹æŸ„å®½åº¦ */
  border-radius: 50%; /* ä½¿æ‰‹æŸ„ä¸ºåœ†å½¢ */
  background: #fff;   /* æ‰‹æŸ„èƒŒæ™¯è‰² (ç™½è‰²ï¼Œä¸è“è‰²è¾¹æ¡†å½¢æˆå¯¹æ¯”) */
  cursor: pointer;
  margin-top: -5px;   /* å…³é”®ï¼šè°ƒæ•´æ‰‹æŸ„ç›¸å¯¹äºè½¨é“çš„å‚ç›´ä½ç½® */
                      /* è®¡ç®—æ–¹å¼: (è½¨é“é«˜åº¦ - æ‰‹æŸ„é«˜åº¦) / 2 
                         ä¾‹å¦‚: (6px - 16px) / 2 = -5px 
                         å¦‚æœæ‰‹æŸ„æœ‰è¾¹æ¡†ï¼Œè¾¹æ¡†å®½åº¦ä¹Ÿéœ€è¦è€ƒè™‘è¿›å»
                         (6px - (16px + 2*2px_border)) / 2 + 2px_border ç±»ä¼¼è¿™æ ·ï¼Œå…·ä½“è¦å¾®è°ƒ
                      */
  box-shadow: 0 0 2px rgba(0,0,0,0.5); /* å¯é€‰ï¼šæ‰‹æŸ„é˜´å½± */
}

/* --- Gecko æµè§ˆå™¨ (Firefox) --- */
.setting-item input[type="range"]#temperature-slider::-moz-range-track {
  width: 100%;
  height: 6px;
  cursor: pointer;
  background: #555;
  border-radius: 3px;
  /* border: 1px solid #333; */
}

.setting-item input[type="range"]#temperature-slider::-moz-range-thumb {
  border: 2px solid var(--primary-dark);
  height: 12px; /* Firefox ä¸‹æ‰‹æŸ„çš„ border ä¼šç®—åœ¨ height/width ä¹‹å¤–ï¼Œæ‰€ä»¥è¿™é‡Œç”¨ 16px - 2*2px */
  width: 12px;
  border-radius: 50%;
  background: #fff;
  cursor: pointer;
  box-shadow: 0 0 2px rgba(0,0,0,0.5);
}

/* å¯é€‰ï¼šFirefox ç„¦ç‚¹æ ·å¼ (ç§»é™¤é»˜è®¤è™šçº¿æ¡†) */
.setting-item input[type="range"]#temperature-slider::-moz-focus-outer {
  border: 0;
}

/* --- ä¸æ ‡ç­¾å’Œæ•°å€¼æ˜¾ç¤ºçš„å¯¹é½ --- */
.setting-item label[for="temperature-slider"] {
  /* ä½ å¯èƒ½éœ€è¦è°ƒæ•´ label çš„æ ·å¼ä½¿å…¶ä¸å…¶ä»–è®¾ç½®é¡¹çš„ label å¯¹é½ */
  white-space: nowrap; /* é˜²æ­¢æ ‡ç­¾æ¢è¡Œ */
}
#temperature-value {
  display: inline-block;
  min-width: 2.8em; /* è°ƒæ•´å®½åº¦ä»¥å®¹çº³ "0.0" åˆ° "2.0" */
  text-align: left; /* æˆ–è€… rightï¼Œæ ¹æ®ä½ çš„åå¥½ */
  font-weight: bold;
  margin-left: 8px;
}

.messages {
  /* ... ä½ ç°æœ‰çš„ .messages æ ·å¼ ... */
  position: relative; /* å¦‚æœéœ€è¦ç”¨ç»å¯¹å®šä½æ¥å±…ä¸­æç¤ºï¼Œè™½ç„¶ flex æ›´æ–¹ä¾¿ */
  display: flex;
  flex-direction: column;
  /* align-items: center; /* å¦‚æœå¸Œæœ›æç¤ºå—æ°´å¹³å±…ä¸­ */
  /* justify-content: center; /* å¦‚æœå¸Œæœ›æç¤ºå—å‚ç›´å±…ä¸­ (å½“ messages é«˜åº¦å›ºå®šæ—¶) */
}

/* æ–°å¢ï¼šç©ºèŠå¤©çŠ¶æ€çš„å ä½æç¤ºæ ·å¼ */
.empty-chat-placeholder {
  /* ä½¿ç”¨ flex åœ¨ .messages å®¹å™¨ä¸­å±…ä¸­è¿™ä¸ªæç¤º */
  display: flex; /* è®¾ä¸º flex ä»¥ä¾¿å†…éƒ¨çš„ p å…ƒç´ å¯ä»¥æ›´å®¹æ˜“åœ°å¯¹é½ */
  flex-direction: column;
  justify-content: center; /* å‚ç›´å±…ä¸­ */
  align-items: center;   /* æ°´å¹³å±…ä¸­ */
  text-align: center;
  
  /* è®©å®ƒå æ® .messages çš„å¯ç”¨ç©ºé—´ï¼Œè¿™æ ·æ‰èƒ½æœ‰æ•ˆå±…ä¸­ */
  flex-grow: 1; 
  
  color: var(--text-secondary, #888); /* ä½¿ç”¨æ¬¡è¦æ–‡å­—é¢œè‰² */
  font-size: 1rem;
  padding: 20px;
  user-select: none; /* é˜²æ­¢ç”¨æˆ·æ„å¤–é€‰ä¸­è¿™æ®µæ–‡å­— */
}

.empty-chat-placeholder p {
  margin: 0;
}


/* --- æ¨¡å‹ç®¡ç†åŒºåŸŸ --- */
.model-management-area {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 20px;
  overflow-y: auto; /* å¦‚æœå†…å®¹è¿‡å¤šï¼Œå…è®¸æ»šåŠ¨ */
}

.model-management-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding-bottom: 10px;
  border-bottom: 1px solid var(--border-color);
}

.model-management-header h2 {
  margin: 0;
  font-size: 1.5rem;
}

.model-management-controls button {
  margin-left: 10px;
}

.model-list-editor {
  display: flex;
  flex-direction: column;
  gap: 20px; /* æ¨¡å‹ç»„ä¹‹é—´çš„é—´è· */
}

.model-group-editor {
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 15px;
  background-color: rgba(var(--primary-rgb), 0.03); /* è½»å¾®èƒŒæ™¯è‰²åŒºåˆ† */
}
body.dark-theme .model-group-editor {
  background-color: rgba(255,255,255, 0.03);
}


.model-group-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.model-group-header h4 {
  margin: 0;
  font-size: 1.1rem;
  cursor: grab; /* æç¤ºå¯ä»¥æ‹–æ‹½ç»„ */
}
.model-group-header input.group-label-editor {
  font-size: 1.1rem;
  font-weight: bold;
  padding: 4px 8px;
  border: 1px dashed var(--border-color);
  background: transparent;
  color: var(--text-color);
}


.model-group-options {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 10px; /* æ¨¡å‹é¡¹ä¹‹é—´çš„é—´è· */
}

.model-option-editor {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px;
  border: 1px solid rgba(var(--border-color), 0.5);
  border-radius: 6px;
  background-color: var(--bg-color);
  cursor: grab; /* æç¤ºå¯ä»¥æ‹–æ‹½é¡¹ */
}

.model-option-editor .details {
  flex-grow: 1;
  font-size: 0.9rem;
}
.model-option-editor .details strong {
  display: block;
  margin-bottom: 3px;
}
.model-option-editor .details span {
  color: #888;
  font-size: 0.85rem;
}
body.dark-theme .model-option-editor .details span {
  color: #aaa;
}


.model-option-editor .actions button {
  padding: 5px 8px;
  font-size: 0.8rem;
  margin-left: 5px;
  background-color: var(--sidebar-bg); /* ä½¿ç”¨ä¾§è¾¹æ èƒŒæ™¯è‰²ä½œä¸ºæŒ‰é’®åº•è‰² */
  border: 1px solid var(--border-color);
  color: var(--text-color);
}
.model-option-editor .actions button.danger-text {
  color: #e53e3e;
}
.model-option-editor .actions button:hover {
  filter: brightness(0.9);
}
body.dark-theme .model-option-editor .actions button:hover {
  filter: brightness(1.2);
}


/* --- æ¨¡æ€å¯¹è¯æ¡†æ ·å¼ --- */
.modal {
  position: fixed;
  z-index: 1001; /* æ¯”å…¶ä»–å†…å®¹é«˜ */
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0,0,0,0.6); /* åŠé€æ˜èƒŒæ™¯ */
  display: flex; /* ç”¨äºå‚ç›´å±…ä¸­ */
  align-items: center;
  justify-content: center;
}

.modal-content {
  background-color: var(--bg-color);
  margin: auto;
  padding: 25px;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  width: 80%;
  max-width: 500px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
  position: relative;
}

.close-modal-btn {
  color: #aaa;
  position: absolute;
  top: 10px;
  right: 15px;
  font-size: 28px;
  font-weight: bold;
  cursor: pointer;
}
.close-modal-btn:hover,
.close-modal-btn:focus {
  color: var(--text-color);
  text-decoration: none;
}

#model-form .form-group {
  margin-bottom: 15px;
}
#model-form label {
  display: block;
  margin-bottom: 5px;
  font-weight: 500;
}
#model-form input[type="text"] {
  width: calc(100% - 20px); /* å‡å» padding */
  padding: 8px 10px;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  background-color: var(--bg-color);
  color: var(--text-color);
  font-size: 0.95rem;
}
#model-form input[type="text"]:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 2px rgba(var(--primary-rgb), 0.2);
}
#model-form small {
  display: block;
  font-size: 0.8rem;
  color: #777;
  margin-top: 3px;
}
body.dark-theme #model-form small {
  color: #aaa;
}

#model-form .form-actions {
  margin-top: 20px;
  text-align: right;
}
#model-form .form-actions button {
  margin-left: 10px;
}
button.primary-action {
    background-color: var(--primary) !important;
    color: white !important;
}
button.primary-action:hover {
    filter: brightness(0.9);
}
button.secondary {
  background-color: #6c757d;
  color: white;
}
button.secondary:hover {
  background-color: #5a6268;
}

/* style.css */

/* --- æ¨¡å‹ç®¡ç†ç•Œé¢å¤´éƒ¨æ§åˆ¶æŒ‰é’® --- */
.model-management-controls button {
  padding: 8px 16px; /* å¢åŠ å†…è¾¹è· */
  font-size: 0.9rem;
  border-radius: 5px; /* åœ†è§’ */
  border: 1px solid var(--border-color); /* ç»Ÿä¸€è¾¹æ¡† */
  background-color: var(--sidebar-bg); /* ä½¿ç”¨ä¾§è¾¹æ èƒŒæ™¯è‰²ï¼Œä¸æ·±è‰²ä¸»é¢˜åè°ƒ */
  color: var(--text-color);
  cursor: pointer;
  transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease; /* è¿‡æ¸¡æ•ˆæœ */
  margin-left: 10px; /* ä¿æŒæŒ‰é’®é—´è· */
}

/* é¼ æ ‡æ‚¬åœæ•ˆæœ */
.model-management-controls button:hover {
  border-color: var(--primary); /* æ‚¬åœæ—¶è¾¹æ¡†å˜ä¸»é¢˜è‰² */
  background-color: rgba(var(--primary-rgb), 0.1); /* è½»å¾®ä¸»é¢˜è‰²èƒŒæ™¯ */
}

/* ä¸»è¦æ“ä½œæŒ‰é’® (ä¾‹å¦‚ "ä¿å­˜æ›´æ”¹") */
.model-management-controls button.primary-action {
  background-color: var(--primary);
  color: white;
  border-color: var(--primary);
}

.model-management-controls button.primary-action:hover {
  background-color: rgba(var(--primary-rgb), 0.85); /* ä¸»é¢˜è‰²å˜æ·±ä¸€ç‚¹ */
  border-color: rgba(var(--primary-rgb), 0.85);
}

/* style.css */

/* --- æ¨¡å‹ç»„å¤´éƒ¨æŒ‰é’® (ä¾‹å¦‚ "åˆ é™¤ç»„") --- */
.model-group-header button {
  padding: 5px 10px;
  font-size: 0.85rem;
  border-radius: 4px;
  border: 1px solid transparent; /* é»˜è®¤é€æ˜è¾¹æ¡† */
  background-color: transparent; /* é»˜è®¤é€æ˜èƒŒæ™¯ */
  color: #adb5bd; /* é»˜è®¤æµ…ç°è‰²æ–‡å­—ï¼Œä¸é‚£ä¹ˆçªå‡º */
  cursor: pointer;
  transition: background-color 0.2s ease, color 0.2s ease;
}
body.light-theme .model-group-header button { /* æµ…è‰²ä¸»é¢˜ä¸‹çš„é¢œè‰² */
    color: #6c757d;
}


.model-group-header button:hover {
  background-color: rgba(255, 255, 255, 0.05); /* æ‚¬åœæ—¶è½»å¾®èƒŒæ™¯ */
  color: var(--text-color); /* æ‚¬åœæ—¶æ–‡å­—å˜äº® */
}
body.light-theme .model-group-header button:hover {
  background-color: rgba(0, 0, 0, 0.05);
}


/* å¦‚æœæœ‰æ˜ç¡®çš„ "åˆ é™¤ç»„" æŒ‰é’®ï¼Œå¯ä»¥ç»™å®ƒç‰¹å®šçš„å±é™©è‰² */
.model-group-header button.danger-text { /* æ‚¨ä¹‹å‰å·²æœ‰è¿™ä¸ªç±» */
  color: #e53e3e; /* å±é™©çº¢è‰² */
}

.model-group-header button.danger-text:hover {
  background-color: rgba(229, 62, 62, 0.1); /* çº¢è‰²èƒŒæ™¯çš„æµ…è‰²ç‰ˆ */
  color: #c53030; /* æ‚¬åœæ—¶çº¢è‰²åŠ æ·± */
}

/* style.css */

/* --- æ¨¡å‹é€‰é¡¹å†…çš„æ“ä½œæŒ‰é’® (ç¼–è¾‘, åˆ é™¤) --- */
.model-option-editor .actions button {
  padding: 6px 12px; /* è°ƒæ•´å†…è¾¹è· */
  font-size: 0.85rem; /* å­—ä½“å¤§å° */
  border-radius: 4px;
  border: 1px solid var(--border-color);
  background-color: rgba(var(--primary-rgb), 0.08); /* éå¸¸æµ…çš„ä¸»é¢˜è‰²èƒŒæ™¯ */
  color: var(--text-color);
  cursor: pointer;
  transition: background-color 0.2s ease, border-color 0.2s ease;
  margin-left: 8px; /* æŒ‰é’®é—´è· */
}
body.light-theme .model-option-editor .actions button {
  background-color: #f0f2f5; /* æµ…è‰²ä¸»é¢˜ä¸‹çš„èƒŒæ™¯ */
  border: 1px solid #d9d9d9;
}

.model-option-editor .actions button:hover {
  border-color: var(--primary);
  background-color: rgba(var(--primary-rgb), 0.15); /* æ‚¬åœæ—¶èƒŒæ™¯åŠ æ·± */
}
body.light-theme .model-option-editor .actions button:hover {
  border-color: var(--primary);
  background-color: #e6f7ff; /* æµ…è‰²ä¸»é¢˜æ‚¬åœèƒŒæ™¯ */
}


/* åˆ é™¤æŒ‰é’®çš„ç‰¹å®šæ ·å¼ */
.model-option-editor .actions button.danger-text { /* æ‚¨ä¹‹å‰å·²æœ‰è¿™ä¸ªç±» */
  background-color: rgba(229, 62, 62, 0.1); /* é»˜è®¤å°±ç»™ä¸€ç‚¹çº¢è‰²èƒŒæ™¯ */
  border-color: rgba(229, 62, 62, 0.3);
  color: #e53e3e;
}
body.light-theme .model-option-editor .actions button.danger-text {
  background-color: #fff1f0;
  border-color: #ffccc7;
}


.model-option-editor .actions button.danger-text:hover {
  background-color: rgba(229, 62, 62, 0.2);
  border-color: rgba(229, 62, 62, 0.5);
  color: #c53030; /* æ‚¬åœæ—¶çº¢è‰²åŠ æ·± */
}
body.light-theme .model-option-editor .actions button.danger-text:hover {
  background-color: #ffccc7;
  border-color: #ffa39e;
}

/* style.css */

/* --- æ¨¡å‹è¡¨å•æ¨¡æ€å¯¹è¯æ¡† - åŠ¨ä½œæŒ‰é’® --- */
#model-form .form-actions {
  margin-top: 25px; /* å¢åŠ ä¸ä¸Šæ–¹è¡¨å•é¡¹çš„é—´è· */
  text-align: right; /* æŒ‰é’®é»˜è®¤é å³å¯¹é½ */
  display: flex; /* ä½¿ç”¨ flex å¸ƒå±€ä»¥ä¾¿æ›´å¥½åœ°æ§åˆ¶æŒ‰é’®é—´è·å’Œå¯¹é½ */
  justify-content: flex-end; /* ç¡®ä¿æŒ‰é’®é å³ */
  gap: 10px; /* æŒ‰é’®ä¹‹é—´çš„é—´è· */
}

#model-form .form-actions button {
  padding: 10px 20px; /* ç»Ÿä¸€çš„ã€æ›´èˆ’é€‚çš„å†…è¾¹è· */
  font-size: 0.95rem; /* å­—ä½“å¤§å° */
  border-radius: 5px; /* åœ†è§’ */
  border: 1px solid var(--border-color);
  cursor: pointer;
  transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
  font-weight: 500; /* å­—ä½“ç¨ç²—ä¸€äº› */
}

/* "ä¿å­˜æ¨¡å‹" æŒ‰é’® (ä¸»è¦æ“ä½œæŒ‰é’®) */
#model-form .form-actions button#save-model-detail-btn {
  background-color: var(--primary); /* ä¸»é¢˜è‰²èƒŒæ™¯ */
  color: white; /* ç™½è‰²æ–‡å­— */
  border-color: var(--primary); /* ä¸»é¢˜è‰²è¾¹æ¡† */
}

#model-form .form-actions button#save-model-detail-btn:hover {
  background-color: rgba(var(--primary-rgb), 0.85); /* æ‚¬åœæ—¶ä¸»é¢˜è‰²å˜æ·± */
  border-color: rgba(var(--primary-rgb), 0.85);
  box-shadow: 0 2px 8px rgba(var(--primary-rgb), 0.3); /* æ‚¬åœæ—¶è½»å¾®é˜´å½± */
}

/* "å–æ¶ˆ" æŒ‰é’® (æ¬¡è¦/ä¸­æ€§æ“ä½œæŒ‰é’®) */
#model-form .form-actions button#cancel-model-detail-btn {
  background-color: var(--sidebar-bg); /* ä½¿ç”¨ä¸ä¾§è¾¹æ æˆ–æ¬¡è¦å…ƒç´ ä¸€è‡´çš„èƒŒæ™¯è‰² */
  color: var(--text-color); /* æ–‡æœ¬é¢œè‰² */
  border-color: var(--border-color); /* è¾¹æ¡†é¢œè‰² */
}
/* é’ˆå¯¹æµ…è‰²ä¸»é¢˜çš„å–æ¶ˆæŒ‰é’®ä¼˜åŒ– */
body.light-theme #model-form .form-actions button#cancel-model-detail-btn {
    background-color: #f0f2f5; /* æµ…ç°è‰²èƒŒæ™¯ */
    border-color: #d9d9d9;
    color: #555; /* æ·±ç°è‰²æ–‡å­— */
}


#model-form .form-actions button#cancel-model-detail-btn:hover {
  background-color: rgba(var(--primary-rgb), 0.1); /* æ‚¬åœæ—¶è½»å¾®ä¸»é¢˜è‰²èƒŒæ™¯ */
  border-color: var(--primary); /* æ‚¬åœæ—¶è¾¹æ¡†å˜ä¸»é¢˜è‰² */
  color: var(--primary); /* æ‚¬åœæ—¶æ–‡å­—å˜ä¸»é¢˜è‰² */
}
/* é’ˆå¯¹æµ…è‰²ä¸»é¢˜çš„å–æ¶ˆæŒ‰é’®æ‚¬åœä¼˜åŒ– */
body.light-theme #model-form .form-actions button#cancel-model-detail-btn:hover {
    background-color: #e6f7ff; /* æµ…è“è‰²èƒŒæ™¯ */
    border-color: var(--primary);
    color: var(--primary);
}

/* style.css - æ£€æŸ¥ .container å’Œ .main-area çš„æ ·å¼ */
.container {
  display: flex; /* ç¡®ä¿æ˜¯ flex å¸ƒå±€ */
  height: 100%;
  width: 100%;
}

.sidebar {
  width: 240px; /* æˆ–è€…ä½ è®¾ç½®çš„å®½åº¦ */
  /* display: flex; */ /* å®ƒçš„ display ç”± JS æ§åˆ¶ */
  /* ... å…¶ä»–æ ·å¼ ... */
}

.main-area {
  flex: 1; /* å½“ä¾§è¾¹æ éšè—æ—¶ï¼Œå®ƒä¼šå æ®æ‰€æœ‰å‰©ä½™ç©ºé—´ */
  display: flex;
  flex-direction: column;
  /* ... å…¶ä»–æ ·å¼ ... */
}